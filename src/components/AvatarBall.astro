---
import type { HTMLAttributes } from "astro/types";

type Props = {
  src: HTMLAttributes<"img">["src"];
};

const { src } = Astro.props;

const colors = [
  ["red", "green"],
  ["yellow", "blue"],
  ["magenta", "cyan"],
];
---

<style>
  .ball {
    width: 100px;
    height: 100px;
    position: relative;
    margin-bottom: var(--spacing-minor);
  }

  .ball .blocks {
    z-index: -1;
    border-radius: 50%;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    position: absolute;
    filter: blur(var(--blur-factor));
    overflow: hidden;
    opacity: 0.5;
  }

  .ball .image {
    width: inherit;
    height: inherit;
    padding: 0.5rem;
    border-radius: 50%;
    margin-bottom: var(--spacing-minor);
    background-color: var(--background);
  }

  .row {
    width: 100%;
    height: calc(100% / 3);
    display: flex;
  }

  .row .column {
    width: 50%;
    height: 100%;
    display: inline-flex;
  }

  .ball img {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain;
  }
</style>

<div class="ball">
  <div class="blocks">
    {
      colors.map((row) => (
        <div class="row">
          {row.map((color) => (
            <div
              class="column"
              style={`background-color: var(--color-${color})`}
            />
          ))}
        </div>
      ))
    }
  </div>
  <div class="image">
    <img src={src} width="192" height="192" alt="Image" />
  </div>
</div>
